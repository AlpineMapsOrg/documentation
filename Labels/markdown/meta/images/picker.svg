<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="578px" preserveAspectRatio="none" style="width:1489px;height:578px;" version="1.1" viewBox="0 0 1489 578" width="1489px" zoomAndPan="magnify"><defs><filter height="300%" id="fkutnl6kdyvn0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5a3bbf0d7091cd7a553e0617d3c8fdbb]
cluster nucleus--><polygon fill="#FFFFFF" filter="url(#fkutnl6kdyvn0)" points="22,24,90,24,97,46.2969,1467,46.2969,1467,566,22,566,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="97" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="26" y="38.9951">nucleus</text><!--MD5=[a43420a8d4ab0916daebefd917101659]
cluster nucleus.picker--><polygon fill="#FFFFFF" filter="url(#fkutnl6kdyvn0)" points="46,67,101,67,108,89.2969,1443,89.2969,1443,542,46,542,46,67" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="108" y1="89.2969" y2="89.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="50" y="81.9951">picker</text><!--MD5=[2bfe56e03f866353e433bce23c13df16]
class nucleus.picker.PickerManager--><rect fill="#FEFECE" filter="url(#fkutnl6kdyvn0)" height="278.4844" id="nucleus.picker.PickerManager" style="stroke: #A80036; stroke-width: 1.5;" width="869" x="557.5" y="102"/><ellipse cx="941.25" cy="118" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M944.2188,123.6406 Q943.6406,123.9375 943,124.0781 Q942.3594,124.2344 941.6563,124.2344 Q939.1563,124.2344 937.8281,122.5938 Q936.5156,120.9375 936.5156,117.8125 Q936.5156,114.6875 937.8281,113.0313 Q939.1563,111.375 941.6563,111.375 Q942.3594,111.375 943,111.5313 Q943.6563,111.6875 944.2188,111.9844 L944.2188,114.7031 Q943.5938,114.125 943,113.8594 Q942.4063,113.5781 941.7813,113.5781 Q940.4375,113.5781 939.75,114.6563 Q939.0625,115.7188 939.0625,117.8125 Q939.0625,119.9063 939.75,120.9844 Q940.4375,122.0469 941.7813,122.0469 Q942.4063,122.0469 943,121.7813 Q943.5938,121.5 944.2188,120.9219 L944.2188,123.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="961.75" y="122.1543">PickerManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="558.5" x2="1425.5" y1="134" y2="134"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="565.5" y="142"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="179" x="577.5" y="148.2104">m_all_features : TiledVectorTile</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="565.5" y="154.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="577.5" y="161.0151">m_in_click : bool</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="565.5" y="167.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="577.5" y="173.8198">m_position : glm::vec2</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="565.5" y="180.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="259" x="577.5" y="186.6245">m_valid_click_distance : static constexpr float</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="565.5" y="193.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="552" x="577.5" y="199.4292">m_pickid_to_feature : std::unordered_map&lt;unsigned long, std::shared_ptr&lt;const FeatureTXT&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="558.5" x2="1425.5" y1="206.0234" y2="206.0234"/><ellipse cx="568.5" cy="217.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="577.5" y="220.2339">PickerManager(QObject* parent)</text><ellipse cx="568.5" cy="229.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="338" x="577.5" y="233.0386">pick_requested(const glm::dvec2&amp; position) : signals : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="565.5" y="239.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="351" x="577.5" y="245.8433">add_tile(const tile::Id id, const VectorTile&amp; all_features) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="565.5" y="252.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="577.5" y="258.6479">end_click_event(const glm::vec2&amp; position) : void</text><ellipse cx="568.5" cy="268.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="577.5" y="271.4526">eval_pick(uint32_t value) : void</text><ellipse cx="568.5" cy="281.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="354" x="577.5" y="284.2573">mouse_move_event(const event_parameter::Mouse&amp; e) : void</text><ellipse cx="568.5" cy="293.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="356" x="577.5" y="297.062">mouse_press_event(const event_parameter::Mouse&amp; e) : void</text><ellipse cx="568.5" cy="306.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="366" x="577.5" y="309.8667">mouse_release_event(const event_parameter::Mouse&amp; e) : void</text><ellipse cx="568.5" cy="319.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="577.5" y="322.6714">pick_evaluated(const FeatureProperties feature) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="565.5" y="329.2656"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="577.5" y="335.4761">remove_tile(const tile::Id id) : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="565.5" y="342.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="286" x="577.5" y="348.2808">start_click_event(const glm::vec2&amp; position) : void</text><ellipse cx="568.5" cy="357.875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="306" x="577.5" y="361.0854">touch_event(const event_parameter::Touch&amp; e) : void</text><ellipse cx="568.5" cy="370.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="843" x="577.5" y="373.8901">update_quads(const std::vector&lt;nucleus::tile_scheduler::tile_types::GpuTileQuad&gt;&amp; new_quads, const std::vector&lt;tile::Id&gt;&amp; deleted_quads) : void</text><!--MD5=[ce7d41de4d6088268e3afd0f07f446e4]
class nucleus.picker.PickTypes--><rect fill="#FEFECE" filter="url(#fkutnl6kdyvn0)" height="73.6094" id="nucleus.picker.PickTypes" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="429.5" y="204"/><ellipse cx="444.5" cy="220" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M448.6094,226 L440.8906,226 L440.8906,213.6094 L448.6094,213.6094 L448.6094,215.7656 L443.3438,215.7656 L443.3438,218.4375 L448.1094,218.4375 L448.1094,220.5938 L443.3438,220.5938 L443.3438,223.8438 L448.6094,223.8438 L448.6094,226 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="458.5" y="224.1543">PickTypes</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="430.5" x2="521.5" y1="236" y2="236"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="435.5" y="250.2104">feature</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="435.5" y="263.0151">invalid</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="430.5" x2="521.5" y1="269.6094" y2="269.6094"/><!--MD5=[10f5a9f7f0300cc6d67b8959b76c2a47]
class nucleus.picker.FeatureProperties--><rect fill="#FEFECE" filter="url(#fkutnl6kdyvn0)" height="112.0234" id="nucleus.picker.FeatureProperties" style="stroke: #A80036; stroke-width: 1.5;" width="332" x="62" y="185"/><ellipse cx="166.75" cy="201" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M169.7188,206.6406 Q169.1406,206.9375 168.5,207.0781 Q167.8594,207.2344 167.1563,207.2344 Q164.6563,207.2344 163.3281,205.5938 Q162.0156,203.9375 162.0156,200.8125 Q162.0156,197.6875 163.3281,196.0313 Q164.6563,194.375 167.1563,194.375 Q167.8594,194.375 168.5,194.5313 Q169.1563,194.6875 169.7188,194.9844 L169.7188,197.7031 Q169.0938,197.125 168.5,196.8594 Q167.9063,196.5781 167.2813,196.5781 Q165.9375,196.5781 165.25,197.6563 Q164.5625,198.7188 164.5625,200.8125 Q164.5625,202.9063 165.25,203.9844 Q165.9375,205.0469 167.2813,205.0469 Q167.9063,205.0469 168.5,204.7813 Q169.0938,204.5 169.7188,203.9219 L169.7188,206.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="187.25" y="205.1543">FeatureProperties</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="393" y1="217" y2="217"/><ellipse cx="73" cy="228" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="82" y="231.2104">properties : QList&lt;FeatureProperty&gt;</text><ellipse cx="73" cy="240.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="179" x="82" y="244.0151">title : Q_GADGET public:QString</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="393" y1="250.6094" y2="250.6094"/><ellipse cx="73" cy="261.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="242" x="82" y="264.8198">get_list_model() : QList&lt;QString&gt; {query}</text><ellipse cx="73" cy="274.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="82" y="277.6245">is_valid() : Q_INVOKABLE bool</text><ellipse cx="73" cy="287.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="306" x="82" y="290.4292">operator!=(const FeatureProperties &amp;) : bool {query}</text><!--MD5=[7832429845c51ba77f18b1cd333bf2e3]
class nucleus.picker.FeatureProperty--><rect fill="#FEFECE" filter="url(#fkutnl6kdyvn0)" height="86.4141" id="nucleus.picker.FeatureProperty" style="stroke: #A80036; stroke-width: 1.5;" width="321" x="67.5" y="440"/><ellipse cx="172.75" cy="456" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M175.7188,461.6406 Q175.1406,461.9375 174.5,462.0781 Q173.8594,462.2344 173.1563,462.2344 Q170.6563,462.2344 169.3281,460.5938 Q168.0156,458.9375 168.0156,455.8125 Q168.0156,452.6875 169.3281,451.0313 Q170.6563,449.375 173.1563,449.375 Q173.8594,449.375 174.5,449.5313 Q175.1563,449.6875 175.7188,449.9844 L175.7188,452.7031 Q175.0938,452.125 174.5,451.8594 Q173.9063,451.5781 173.2813,451.5781 Q171.9375,451.5781 171.25,452.6563 Q170.5625,453.7188 170.5625,455.8125 Q170.5625,457.9063 171.25,458.9844 Q171.9375,460.0469 173.2813,460.0469 Q173.9063,460.0469 174.5,459.7813 Q175.0938,459.5 175.7188,458.9219 L175.7188,461.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="193.25" y="460.1543">FeatureProperty</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="68.5" x2="387.5" y1="472" y2="472"/><ellipse cx="78.5" cy="483" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="87.5" y="486.2104">value : QString</text><ellipse cx="78.5" cy="495.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="87.5" y="499.0151">key : Q_GADGET public:QString</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="68.5" x2="387.5" y1="505.6094" y2="505.6094"/><ellipse cx="78.5" cy="516.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="295" x="87.5" y="519.8198">operator!=(const FeatureProperty &amp;) : bool {query}</text><!--MD5=[8723eb45803b9e42dd6c2966601b7ff5]
reverse link nucleus.picker.FeatureProperties to nucleus.picker.FeatureProperty--><path d="M228,310.22 C228,351.99 228,404.1 228,439.91 " fill="none" id="nucleus.picker.FeatureProperties&lt;-nucleus.picker.FeatureProperty" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="228,297.06,224,303.06,228,309.06,232,303.06,228,297.06" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[27ef155cadcd32e610eb11150fb9511a]
@startuml






namespace nucleus {
	namespace picker {
		class PickerManager {
			+PickerManager(QObject* parent)
			-m_all_features : TiledVectorTile
			-m_in_click : bool
			-m_position : glm::vec2
			+pick_requested(const glm::dvec2& position) : signals : void
			-{static} m_valid_click_distance : static constexpr float
			-m_pickid_to_feature : std::unordered_map<unsigned long, std::shared_ptr<const FeatureTXT>>
			-add_tile(const tile::Id id, const VectorTile& all_features) : void
			-end_click_event(const glm::vec2& position) : void
			+eval_pick(uint32_t value) : void
			+mouse_move_event(const event_parameter::Mouse& e) : void
			+mouse_press_event(const event_parameter::Mouse& e) : void
			+mouse_release_event(const event_parameter::Mouse& e) : void
			+pick_evaluated(const FeatureProperties feature) : void
			-remove_tile(const tile::Id id) : void
			-start_click_event(const glm::vec2& position) : void
			+touch_event(const event_parameter::Touch& e) : void
			+update_quads(const std::vector<nucleus::tile_scheduler::tile_types::GpuTileQuad>& new_quads, const std::vector<tile::Id>& deleted_quads) : void
		}

		enum PickTypes {
			feature
			invalid
		}

		class FeatureProperties {
			+properties : QList<FeatureProperty>
			+get_list_model() : QList<QString> {query}
			+title : Q_GADGET public:QString
			+is_valid() : Q_INVOKABLE bool
			+operator!=(const FeatureProperties &) : bool {query}
		}

		class FeatureProperty {
			+value : QString
			+key : Q_GADGET public:QString
			+operator!=(const FeatureProperty &) : bool {query}
		}
	}
}










nucleus.picker.FeatureProperties *- - nucleus.picker.FeatureProperty









@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.4+7-Ubuntu-1ubuntu222.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>